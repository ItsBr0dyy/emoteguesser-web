<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EmoteGuesser | ItsBr0dyy</title>
  <link rel="icon" type="image/x-icon" href="/assets/poggers.png">
  <link rel="stylesheet" href="style.css" />

  <!-- ⭐ REQUIRED FOR TWITCH CHAT GUESSES -->
  <script src="https://unpkg.com/tmi.js@1.8.5"></script>
</head>

<body>
  <div id="app" class="container">
    
    <header class="topbar">
      <h1>EmoteGuesser</h1>

      <link rel="preload" as="image" href="/assets/poggers.png">

      <div class="controls">
        <input id="channelInput" type="text"
               placeholder="Enter Twitch channel (e.g. itsbr0dyy)" />
        <button id="loadBtn">Load Channel</button>
      </div>
    </header>

    <main class="main">
      <section class="game-panel">

        <div class="meta">
          <div class="channel">Channel: <span id="channelName">—</span></div>
          <div class="score">Score: <span id="score">0</span></div>
        </div>

        <div id="emoteCard" class="emote-card hidden">
          <div class="emote-wrap">
            <img id="emoteImg" src="" alt="emote" />
          </div>
        </div>

        <div id="controls" class="player-controls hidden">
          <input id="guessInput" type="text"
                 placeholder="Type emote name and press Enter"
                 autocomplete="off" />
          <div class="btns">
            <button id="submitBtn">Guess</button>
            <button id="skipBtn">Skip</button>
            <button id="nextBtn" class="hidden">Next</button>
          </div>
        </div>

        <div id="status" class="status">Enter a channel and click Load.</div>

        <div id="footerTips" class="tips">
          Tip: If API fails you can paste a JSON of emotes (see debug area).
        </div>

      </section>

      <aside class="sidebar">
        <h3>Game Info</h3>
        <ol>
          <li>Load a Twitch channel to fetch its 7TV emotes.</li>
          <li>Type the emote name (case-insensitive) to score.</li>
          <li>Skip reveals the name and deducts no score.</li>
        <h3>Leaderboard</h3>
        <ul id="leaderboard" class="leaderboard-list"></ul>

        <h3>Last Winner</h3>
        <div id="lastWinner" class="last-winner">No guesses yet</div>

        </ol>

        <details>
          <summary>Debug / Manual load</summary>
          <p>If the automatic fetch fails you can paste JSON like <code>[{"name":"KEKW","url":"https://..."}]</code></p>
          <textarea id="manualJson" placeholder='Paste JSON array of {name,url}'></textarea>
          <button id="manualLoadBtn">Load Emotes From JSON</button>
        </details>
      </aside>
    </main>

    <footer class="footer">
      © <span id="year"></span> ItsBr0dyy · Fork of emoteguesser by Xslash58
      <a href="https://github.com/itsbr0dyy/emoteguesser-web">Source Code</a>
    </footer>
  </div>

  <!-- Your Twitch-enabled script -->
  <script src="script.js"></script>
</body>
</html>
